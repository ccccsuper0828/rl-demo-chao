# v6.3 æ”¹è¿›æ–¹æ¡ˆ - åŸºäºŽ v6.2 è®­ç»ƒç»“æžœåˆ†æž

**æ—¥æœŸ**: 2026-02-09
**v6.2 é—®é¢˜**: å³°å€¼å¹³å‡åˆ†ä»Ž 39.3 é™è‡³ 20.1ï¼ˆ-49%ï¼‰

---

## é—®é¢˜è¯Šæ–­

v6.2 çš„ä¸‰ä¸ªæ”¹è¿›åè€Œé™ä½Žäº†æ€§èƒ½ï¼š

| æ”¹è¿› | é¢„æœŸæ•ˆæžœ | å®žé™…æ•ˆæžœ | åŽŸå› åˆ†æž |
|------|---------|---------|---------|
| Dropout | é˜²æ­¢è¿‡æ‹Ÿåˆ | âŒ é˜»ç¢å­¦ä¹  | ä»»åŠ¡å¤ªç®€å•ï¼Œä¸éœ€è¦æ­£åˆ™åŒ– |
| è¯¾ç¨‹å­¦ä¹  | åŠ é€Ÿå­¦ä¹  | âŒ å­¦åˆ°é”™è¯¯ç­–ç•¥ | Easyæ¨¡å¼å¤ªç®€å•ï¼Œå­¦ä¸åˆ°ç²¾ç¡®è·³è·ƒ |
| ä¼˜åŒ–å¥–åŠ± | æ›´å¥½å¼•å¯¼ | âŒ å¼•å…¥å™ªå£° | å¾®ä¿¡å·ï¼ˆÂ±0.005ï¼‰å¯èƒ½æ··ä¹±å­¦ä¹  |

---

## æ”¹è¿›æ–¹æ¡ˆï¼ˆä¸‰é€‰ä¸€ï¼‰

### ðŸ¥‡ æ–¹æ¡ˆ A: æ¿€è¿›å›žé€€ï¼ˆæŽ¨èï¼‰
**ç­–ç•¥**: å›žé€€åˆ° v6.1ï¼Œåªä¿ç•™æœ‰ç”¨çš„æ”¹è¿›

**æ”¹åŠ¨**ï¼š
1. âœ… **ç¦ç”¨ Dropout** - åˆ é™¤æ‰€æœ‰ dropout å±‚
2. âœ… **ç¦ç”¨è¯¾ç¨‹å­¦ä¹ ** - ä½¿ç”¨å›ºå®šéš¾åº¦
3. âœ… **æ¢å¤ç®€å•å¥–åŠ±** - ç§»é™¤å¾®è°ƒä¿¡å·
4. âœ… **ä¿ç•™ v6.1 å‚æ•°** - buffer=10000, epsilon_decay=0.995

**é¢„æœŸæ•ˆæžœ**: æ¢å¤åˆ° v6.1 çš„ 39.3 å¹³å‡åˆ†

**å®žæ–½éš¾åº¦**: â­ï¸ ç®€å•ï¼ˆåªéœ€ä¿®æ”¹å‚æ•°ï¼‰

---

### ðŸ¥ˆ æ–¹æ¡ˆ B: å¾®è°ƒè¯¾ç¨‹å­¦ä¹ ï¼ˆæŠ˜ä¸­ï¼‰
**ç­–ç•¥**: ä¿ç•™è¯¾ç¨‹å­¦ä¹ æ¦‚å¿µï¼Œä½†ä¿®æ­£å‚æ•°

**é—®é¢˜**: Easy æ¨¡å¼å¤ªç®€å•ï¼ˆé€Ÿåº¦3.5ï¼Œé—´è·500-700ï¼‰
**è§£å†³**: æé«˜ Easy æ¨¡å¼éš¾åº¦ï¼Œç¼©çŸ­è¿‡æ¸¡æœŸ

**æ–°è¯¾ç¨‹è®¾è®¡**ï¼š

| é˜¶æ®µ | è½®æ•° | é€Ÿåº¦èŒƒå›´ | é—´è·èŒƒå›´ | æ”¹åŠ¨è¯´æ˜Ž |
|------|------|---------|---------|---------|
| Easy | 0-150 | 4.5-7.0 | 450-600 | â¬†ï¸ é€Ÿåº¦+1.0ï¼Œé—´è·ç¼©å° |
| Medium | 150-400 | 5.0-8.5 | 425-575 | â¬†ï¸ æå‰å¼€å§‹ï¼Œé—´è·ç¼©å° |
| Hard | 400+ | 5.0-10.0 | 400-550 | â¬†ï¸ æå‰å¼€å§‹ |

**å…¶ä»–æ”¹åŠ¨**ï¼š
1. âŒ ç¦ç”¨ Dropout
2. âŒ ç§»é™¤å¥–åŠ±å¾®è°ƒ
3. âœ… ä¿ç•™è¯¾ç¨‹å­¦ä¹ æ¡†æž¶ï¼ˆä¿®æ­£å‚æ•°ï¼‰

**é¢„æœŸæ•ˆæžœ**: 25-35 å¹³å‡åˆ†ï¼ˆä»‹äºŽ v6.2 å’Œ v6.1 ä¹‹é—´ï¼‰

**å®žæ–½éš¾åº¦**: â­ï¸â­ï¸ ä¸­ç­‰ï¼ˆéœ€è¦è°ƒå‚ï¼‰

---

### ðŸ¥‰ æ–¹æ¡ˆ C: ä¿å®ˆå¾®è°ƒï¼ˆå®žéªŒæ€§ï¼‰
**ç­–ç•¥**: å•ç‹¬æµ‹è¯•æ¯ä¸ªæ”¹è¿›ï¼Œæ‰¾å‡ºç½ªé­ç¥¸é¦–

**æ­¥éª¤**ï¼š

#### å®žéªŒ 1: åªç¦ç”¨ Dropout
```bash
# ä¿®æ”¹ dqn_model.py: dropout_rate=0.0
python train.py --episodes 500
```
**é¢„æœŸ**: å¦‚æžœåˆ†æ•°æå‡åˆ° 30+ï¼Œè¯´æ˜Ž Dropout æ˜¯ä¸»è¦é—®é¢˜

#### å®žéªŒ 2: åªç¦ç”¨è¯¾ç¨‹å­¦ä¹ 
```bash
python train.py --episodes 500 --no-curriculum
```
**é¢„æœŸ**: å¦‚æžœåˆ†æ•°æå‡åˆ° 30+ï¼Œè¯´æ˜Žè¯¾ç¨‹å­¦ä¹ è®¾è®¡æœ‰é—®é¢˜

#### å®žéªŒ 3: åªæ¢å¤ç®€å•å¥–åŠ±
```bash
# ä¿®æ”¹ _calculate_reward()ï¼Œç§»é™¤ Â±0.005 ä¿¡å·
python train.py --episodes 500
```
**é¢„æœŸ**: å¦‚æžœåˆ†æ•°æå‡ï¼Œè¯´æ˜Žå¥–åŠ±å¾®è°ƒå¼•å…¥å™ªå£°

**å®žæ–½éš¾åº¦**: â­ï¸â­ï¸â­ï¸ å¤æ‚ï¼ˆéœ€è¦å¤šæ¬¡å®žéªŒï¼‰

---

## æˆ‘çš„æŽ¨èï¼šæ–¹æ¡ˆ A + B æ··åˆ

### æ­¥éª¤ 1: ç«‹å³å®žæ–½ï¼ˆæ–¹æ¡ˆ Aï¼‰
å›žé€€åˆ°æŽ¥è¿‘ v6.1 çš„é…ç½®ï¼š

```python
# 1. ç¦ç”¨ Dropout
# dqn_model.py: dropout_rate=0.0

# 2. æš‚æ—¶ç¦ç”¨è¯¾ç¨‹å­¦ä¹ 
python train.py --episodes 1000 --no-curriculum

# 3. æ¢å¤ç®€å•å¥–åŠ±ï¼ˆç§»é™¤ Â±0.005ï¼‰
```

**é¢„æœŸ**: æ¢å¤åˆ° 35-40 å¹³å‡åˆ†

### æ­¥éª¤ 2: å¦‚æžœæ­¥éª¤1æˆåŠŸï¼Œå°è¯•ä¼˜åŒ–è¯¾ç¨‹ï¼ˆæ–¹æ¡ˆ Bï¼‰

ä¿®æ­£è¯¾ç¨‹å‚æ•°åŽé‡æ–°æµ‹è¯•ï¼š
```python
# ä¿®æ”¹ _get_difficulty_params()
if self.difficulty_level == 0:  # Easy (ä¿®æ­£åŽ)
    return {
        'speed_init': 4.5,      # ä»Ž 3.5 æå‡åˆ° 4.5
        'speed_max': 7.0,       # ä»Ž 6.0 æå‡åˆ° 7.0
        'gap_min': 450,         # ä»Ž 500 ç¼©å°åˆ° 450
        'gap_max': 600,         # ä»Ž 700 ç¼©å°åˆ° 600
        'speed_increment': 0.0004
    }
```

---

## å…·ä½“ä»£ç ä¿®æ”¹ï¼ˆæ–¹æ¡ˆ Aï¼‰

### ä¿®æ”¹ 1: ç¦ç”¨ Dropout

**æ–‡ä»¶**: `agent/dqn_model.py`

```python
# é€‰é¡¹ 1: è®¾ç½® dropout_rate=0.0ï¼ˆæŽ¨èï¼‰
def __init__(self, state_size: int = 5, action_size: int = 2, dropout_rate: float = 0.0):
    # ...
    self.dropout1 = nn.Dropout(dropout_rate)  # dropout_rate=0.0 ç›¸å½“äºŽç¦ç”¨

# é€‰é¡¹ 2: ç›´æŽ¥ç§»é™¤ dropout å±‚
def forward(self, x):
    x = F.relu(self.fc1(x))
    # x = self.dropout1(x)  # æ³¨é‡ŠæŽ‰
    x = F.relu(self.fc2(x))
    # x = self.dropout2(x)  # æ³¨é‡ŠæŽ‰
    return self.fc3(x)
```

### ä¿®æ”¹ 2: æ¢å¤ç®€å•å¥–åŠ±

**æ–‡ä»¶**: `game/dino_game.py`

```python
def _calculate_reward(self, collision, passed):
    """æ¢å¤ v6.1 çš„ç®€å•å¥–åŠ±"""
    if collision:
        return -1.0
    if passed > 0:
        return 1.0
    return 0.01  # ç§»é™¤æ‰€æœ‰å¾®è°ƒä¿¡å·
```

### ä¿®æ”¹ 3: è®­ç»ƒæ—¶ç¦ç”¨è¯¾ç¨‹å­¦ä¹ 

**å‘½ä»¤è¡Œ**:
```bash
python train.py --episodes 1000 --no-curriculum
```

---

## æœŸæœ›çš„è®­ç»ƒæ›²çº¿ç‰¹å¾

æˆåŠŸçš„è®­ç»ƒåº”è¯¥çœ‹åˆ°ï¼š

1. **Episode 0-400**:
   - å¹³å‡åˆ†ç¼“æ…¢ä¸Šå‡ï¼ˆ5 â†’ 15ï¼‰
   - å¤§é‡0åˆ†ï¼Œå¶å°”å‡ºçŽ°20-50åˆ†

2. **Episode 400-600 ("é¡¿æ‚ŸæœŸ")**:
   - å¹³å‡åˆ†å¿«é€Ÿä¸Šå‡ï¼ˆ15 â†’ 30ï¼‰
   - æœ€é«˜åˆ†çªç ´ 100 â†’ 200 â†’ 300
   - è¿™æ˜¯å…³é”®çªç ´æœŸï¼v6.2 ç¼ºå¤±äº†è¿™ä¸ª

3. **Episode 600-1000**:
   - å¹³å‡åˆ†ç¨³å®šä¸Šå‡ï¼ˆ30 â†’ 40ï¼‰
   - æœ€é«˜åˆ† 400-700
   - 0åˆ†å›žåˆå‡å°‘åˆ° 60-70%

4. **Loss æ›²çº¿**:
   - åˆæœŸå¿«é€Ÿä¸‹é™ï¼ˆ0.05 â†’ 0.01ï¼‰
   - ä¸­æœŸç¨³å®šï¼ˆ0.005-0.01ï¼‰
   - åŽæœŸç•¥å¾®ä¸Šå‡ä¹Ÿæ­£å¸¸

---

## ä¸ºä»€ä¹ˆ v6.2 å¤±è´¥äº†ï¼Ÿ

### Dropout çš„è¯¯ç”¨

**ç†è®º**: Dropout é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œå¼ºåˆ¶å­¦ä¹ é²æ£’ç‰¹å¾

**çŽ°å®ž**:
- è¿™ä¸ªä»»åŠ¡çš„çŠ¶æ€ç©ºé—´å¾ˆå°ï¼ˆ4ç»´ï¼‰
- åŠ¨ä½œç©ºé—´ä¹Ÿå¾ˆå°ï¼ˆ2ä¸ªåŠ¨ä½œï¼‰
- ç½‘ç»œå·²ç»å¾ˆå°ï¼ˆ128-64ï¼‰
- **ä¸å­˜åœ¨è¿‡æ‹Ÿåˆé—®é¢˜**

**åŽæžœ**: Dropout å‰Šå¼±äº†ç½‘ç»œçš„å­¦ä¹ èƒ½åŠ›ï¼Œåè€Œé˜»ç¢æ”¶æ•›

### è¯¾ç¨‹å­¦ä¹ çš„è¯¯ç”¨

**ç†è®º**: ä»Žç®€å•åˆ°å›°éš¾ï¼Œå¾ªåºæ¸è¿›

**çŽ°å®ž**:
- Easy æ¨¡å¼ï¼ˆé€Ÿåº¦3.5ï¼Œé—´è·500-700ï¼‰**å¤ªç®€å•äº†**
- æ™ºèƒ½ä½“å­¦ä¼šäº†"æ‡’æƒ°ç­–ç•¥"ï¼šéšä¾¿è·³éƒ½èƒ½è¿‡
- åˆ‡æ¢åˆ° Hard æ¨¡å¼æ—¶ï¼Œè¿™ä¸ªç­–ç•¥å®Œå…¨å¤±æ•ˆ
- ç›¸å½“äºŽä»Žå¤´å¼€å§‹å­¦ï¼Œæµªè´¹äº† 300 è½®

**è¯æ®**:
- v6.1 åœ¨ 400-600 è½®æœ‰çªç ´ï¼ˆæ²¡æœ‰è¯¾ç¨‹ï¼‰
- v6.2 åœ¨ 400-600 è½®æ²¡çªç ´ï¼ˆæ­£å¥½æ˜¯ Medium â†’ Hard åˆ‡æ¢æœŸï¼‰

### å¥–åŠ±å¾®è°ƒçš„é—®é¢˜

**ç†è®º**: å¾®å°ä¿¡å·å¼•å¯¼å­¦ä¹ 

**çŽ°å®ž**:
- Â±0.005 ç›¸å¯¹äºŽä¸»å¥–åŠ±ï¼ˆ1.0ï¼‰å¤ªå°ï¼Œå¯èƒ½è¢«å¿½ç•¥
- æˆ–è€…å¼•å…¥å™ªå£°ï¼Œå¹²æ‰°ä¸»è¦å­¦ä¹ ä¿¡å·
- åˆ¤æ–­æ¡ä»¶ï¼ˆè·ç¦»>200ï¼Œ50<è·ç¦»<150ï¼‰å¯èƒ½ä¸å‡†ç¡®

---

## æ€»ç»“

### æ ¸å¿ƒæ•™è®­

1. **ä¸æ˜¯æ‰€æœ‰"æœ€ä½³å®žè·µ"éƒ½é€‚ç”¨**
   - Dropout é€‚ç”¨äºŽå¤§åž‹ç½‘ç»œã€å¤§æ•°æ®é›†
   - è¿™ä¸ªä»»åŠ¡å¤ªç®€å•ï¼Œä¸éœ€è¦

2. **è¯¾ç¨‹å­¦ä¹ éœ€è¦ç²¾å¿ƒè®¾è®¡**
   - Easy ä¸èƒ½å¤ªç®€å•ï¼ˆä¼šå­¦åˆ°é”™è¯¯ç­–ç•¥ï¼‰
   - è¿‡æ¸¡è¦å¹³æ»‘ï¼ˆé¿å…çªç„¶çš„éš¾åº¦è·³è·ƒï¼‰

3. **ä¿æŒå¥–åŠ±å‡½æ•°ç®€å•**
   - v6.1 çš„ç®€å•å¥–åŠ±å·²ç»å¾ˆå¥½
   - ä¸è¦ä¸ºäº†"ä¼˜åŒ–"è€Œä¼˜åŒ–

### è¡ŒåŠ¨è®¡åˆ’

**ç«‹å³æ‰§è¡Œ**:
```bash
# 1. ç¦ç”¨ dropout (ç¼–è¾‘ dqn_model.py: dropout_rate=0.0)
# 2. æ¢å¤ç®€å•å¥–åŠ± (ç¼–è¾‘ dino_game.py: ç§»é™¤å¾®è°ƒ)
# 3. è®­ç»ƒæµ‹è¯•
python train.py --episodes 1000 --no-curriculum

# é¢„æœŸ: å¹³å‡åˆ† 35-40ï¼Œæœ€é«˜åˆ† 400+
```

**å¦‚æžœæˆåŠŸï¼Œå¯é€‰å°è¯•**:
- å¾®è°ƒè¯¾ç¨‹å‚æ•°ï¼ˆæé«˜ Easy éš¾åº¦ï¼Œç¼©çŸ­è¿‡æ¸¡æœŸï¼‰
- å¯¹æ¯”æœ‰æ— è¯¾ç¨‹çš„æ•ˆæžœ

**å¦‚æžœå¤±è´¥**:
- å®Œå…¨å›žé€€åˆ° v6.1 ä»£ç 
- ä»Žå…¶ä»–æ–¹å‘ä¼˜åŒ–ï¼ˆå¦‚å­¦ä¹ çŽ‡è°ƒåº¦ã€PERï¼‰
